<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>How to Install and Configure Fedora 17 Remix on Your Raspberry Pi | Graphite Friction</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <style type="text/css">
      /*<![CDATA[*/
        body {
          padding-top: 60px;
        }
      /*]]>*/
    </style>
    <link href="/stylesheets/styles.css" rel="stylesheet" type="text/css" />
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/">Graphite Friction</a>
          <ul class="nav pull-right">
            <li class="g-plusone-slot">
              <div class="g-plusone" data-annotation="none"></div>
            </li>
            <li>
              <a class="subscribe" href="/feed.atom" title="Subscribe">
                <img src="/images/rss_32.png" />
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="span12">
          <div id="content">
  <div class="post">
  <h2 class="title">
    <a href="/blog/2012/10/11/how-to-install-and-configure-fedora-17-remix-on-your-raspberry-pi/">How to Install and Configure Fedora 17 Remix on Your Raspberry Pi</a>
  </h2>
  <h4>Thursday, October 11, 2012</h4>
  <h4 style="margin-top: -1em;">by Sarah White and <a href="http://google.com/profiles/dan.j.allen">Dan Allen</a></h4>
<p class="lead">The <a href="http://zenit.senecac.on.ca/wiki/index.php/Raspberry_Pi_Fedora_Remix">Raspberry Pi Fedora 17 Remix</a>, produced and maintained by the <a href="http://zenit.senecac.on.ca/wiki/index.php/Main_Page" title="DOT">Seneca Centre for Development of Open Technology</a>, is a Fedora-based Linux distribution that runs on the low-cost ($35) <a href="http://en.wikipedia.org/wiki/System_on_a_chip" title="SoC">system-on-a-chip</a> (Broadcom BCM2835) known as the <a href="http://raspberrypi.org">Raspberry Pi</a> (RPi or RasPi). This distribution consists of software packages from the <a href="https://fedoraproject.org/wiki/Architectures/ARM">Fedora <span class="caps">ARM</span> project</a> (armv5tel architecture) and a small number of additional packages that are modified from the Fedora versions or which cannot be included into Fedora due to licensing issues (e.g., the libraries for accessing the Raspberry Pi&#8217;s VideoCore <span class="caps">GPU</span>).</p>
<p>This blog entry will show you how to install Fedora Remix on the Raspberry Pi. Installing Fedora Remix on the Raspberry Pi is easier than installing Fedora on a laptop or desktop because all you have to do is copy the prepared image to a MicroSD card and plug in the Pi.</p>
<p>At the time of writing this post, the Raspberry Pi Fedora 17 Remix is only in testing, but in my experience it&#8217;s stable enough to use. According to Peter Robinson, a Fedora <span class="caps">ARM</span> developer, you may soon be able to use the official Fedora 18 <span class="caps">ARM</span> distribution on the Raspberry Pi, which will considerably improve performance and stability.</p>
<blockquote>
<p>The first core components of the Broadcom BCM2835 landed in kernel 3.7 and there might be some bits to report soon with regard to firmware distribution.</p>
</blockquote>
<p>At present, the Fedora Remix is the only option, so let&#8217;s get started with it!</p>
<h3>Installing the Raspberry Pi Fedora 17 Remix</h3>
<p>There are four steps to installing Fedora Remix on your Raspberry Pi.</p>
<ol>
	<li>Copy the ready-made Fedora Remix image onto an 4GB (or larger, I use an 8GB card) MicroSD memory card</li>
	<li>Hook up a monitor (preferably via <span class="caps">HDMI</span>), a <span class="caps">USB</span> keyboard and mouse (ideally that share a single <span class="caps">USB</span> port) and, optionally, an internet connection (ethernet cable, <span class="caps">USB</span> wireless card or <span class="caps">USB</span> tethering to a smartphone)</li>
	<li>Power on and walk through the Fedora &#8220;first boot&#8221; wizard</li>
	<li>Reboot, login and geek out!</li>
</ol>
<p style="text-align:center;"><img src="/images/raspberry_pi/pi_components.png" title="Hardware for using a Raspberry Pi with Fedora Remix" alt="Hardware for using a Raspberry Pi with Fedora Remix" /></p>
<p>The most mysterious part of this process is finding the download link to the image. (Hint: It&#8217;s not on the <a href="http://www.raspberrypi.org/downloads">Raspberry Pi distribution downloads page</a>). Fortunately, I&#8217;ve saved you the trouble of finding it. As for the rest of the process, it may seem daunting at first, but honestly, it&#8217;s not that tricky. Let&#8217;s forge ahead.</p>
<h3>Loading the image on a MicroSD card</h3>
<p>The MicroSD card serves as the Raspberry Pi&#8217;s primary harddrive. By default, the Pi will look on the MicroSD card for the operating system to load (though it&#8217;s possible to boot from other devices as well). Therefore, the first step is to grab the image and put it on the card.</p>
<p>1. Download the latest Raspberry Pi Fedora 17 Remix distribution, rpfr-17-xfce-RC2.zip, from the <a href="http://scotland.proximity.on.ca/raspberrypi/test-releases/raspberrypi-fedora-remix-17/latest/">Seneca <span class="caps">CDOT</span> file server</a> (972MB).</p>
<p>2. Extract the archive using the Archive Manager (file-roller) application or unzip from the command line. This will create the file rpfr-17-xfce-RC2.img.</p>
<p style="text-align:center;"><img src="/images/raspberry_pi/archive_manager.png" title="Archive manager" alt="Archive manager" /></p>
<p>3. Get the device name of the MicroSD card using the Disks (palimpsest) application or sudo fdisk -l from the command line. Most likely the SD card is named <code>/dev/mmcblk0</code>.</p>
<p style="text-align:center;"><img src="/images/raspberry_pi/SD_card_name.png" title="Device name for SD card" alt="Device name for SD card" /></p>
<p>4. Transfer the extracted image file rpfr-17-xfce-RC2.img to the MicroSD card using a terminal window.</p>
<p>Here&#8217;s the transfer command to execute in Step 4.</p>
<pre><code>sudo dd if=rpfr-17-xfce-RC2.img of=/dev/mmcblk0 bs=1M</code></pre>
<p>The command above assumes you saved rpfr-17-xfce-RC2.img in your home directory after extraction. If you saved the file elsewhere, you&#8217;ll need to change to the appropriate directory via the command line (<code>cd directory/name</code>) before executing the <code>dd</code> command. <code>dd</code> is a low-level copy command that can read and write complete disk images. <code>if</code> stands for &#8220;input file&#8221;, <code>of</code> stands for &#8220;output file&#8221; and bs tells <code>dd</code> how many bytes to read at a time.</p>
<p>In our case, the input file is the disk image rpfr-17-xfce-RC2.img, the output file is the MicroSD card device <code>/dev/mmcblk0</code> and the block size is one megabyte (1M). This command will create the necessary file systems partitions on the MicroSD card, occupying 3.1GB of space, then copy the prepared operating system files to those partitions. A one step installation!</p>
<p><strong><span class="caps">NOTE</span>:</strong> As you&#8217;ll learn later, the first boot wizard will allow you to resize the main partition to use all available space on the card.</p>
<p><strong><span class="caps">TIP</span>:</strong> The <code>dd</code> command is also your friend if you need to move to a bigger MicroSD card. Simply reverse the <code>if</code> and <code>of</code> values, insert a bigger card and run the above command again.</p>
<p>The <code>dd</code> command doesn&#8217;t output any messages until the operation is complete, so be patient. The length of time to execute the command will vary depending on the speed of the card. With my Class 6 card, it takes about 8 minutes (7 MB/s). Here&#8217;s an example of the output you&#8217;ll see when the command finishes:</p>
<pre><code>3000+0 records in&#x000A;3000+0 records out&#x000A;3145728000 bytes (3.1 GB) copied, 445.969 s, 7.1 MB/s</code></pre>
<p>You can verify the operation worked by ejecting the MicroSD card, reinserting it, then browsing the contents using the file explorer. You should see two mounts, boot and rootfs. Once you&#8217;re done poking around, unmount boot and rootfs and eject the card.</p>
<p style="text-align:center;"><img src="/images/raspberry_pi/boot_files.png" title="Fedora Remix boot files on the SD card" alt="Fedora Remix boot files on the SD card" /></p>
<p>The MicroSD card is ready. Now let&#8217;s prepare the Pi!</p>
<h3>Preparing the Pi</h3>
<p>Plug the following inputs into the Raspberry Pi board:</p>
<ul>
	<li>MicroSD card</li>
	<li>Monitor <span class="caps">HDMI</span> cable</li>
	<li><span class="caps">USB</span> keyboard</li>
	<li><span class="caps">USB</span> mouse</li>
	<li>Ethernet cable, <span class="caps">USB</span> wireless card or <span class="caps">USB</span> tethered smartphone</li>
</ul>
<p>(Personally I use my Android phone as my wireless card by enabling the <span class="caps">USB</span> tethering feature).</p>
<p>Next, turn on the monitor and, if necessary, the keyboard and mouse. Set the resolution of the monitor to &#8220;Just Scan&#8221; if it offers that setting. Otherwise, use the default setting (e.g., 16:9 or 4:3).</p>
<p>The Raspberry Pi only has two <span class="caps">USB</span> ports, which you may quickly outgrow. One solution is to expand the number of ports by adding a (preferably powered) <span class="caps">USB</span> hub. Before going that route, you can save one of the <span class="caps">USB</span> ports by getting a keyboard and mouse that can share the same port.</p>
<h3>Unifying a Logitech keyboard and mouse</h3>
<p>If you have a Logitech keyboard and mouse that can connect to a single receiver, they can be configured to use that same unifying receiver in Linux. Copy the source code from <a href="http://returnfalse.net/log/pairing-logitech-unifying-devices-on-gnulinux/">this blog</a> to the file unifying_pair.c and execute these commands:</p>
<pre><code>gcc -o unifying_pair unifying_pair.c&#x000A;sudo ./unifying_pair /dev/hidraw0</code></pre>
<p>While that&#8217;s running, switch off the keyboard and mouse, then switch them on. You should now be able to control both the keyboard and the mouse using a single <span class="caps">USB</span> receiver. Plug that receiver into the Raspberry Pi.</p>
<h3>Power it up!</h3>
<p>The final input is the power (otherwise known as the &#8220;on&#8221; switch).</p>
<p>Grab a cellphone charger cable (micro <span class="caps">USB</span>, I use my <span class="caps">HTC</span> Sensation&#8217;s power cable) and plug it into a power outlet. You may be tempted to use the <span class="caps">USB</span> port of your laptop as the power source; however, the <span class="caps">USB</span> port may not provide the necessary power required by the Model B Raspberry Pi (700mA). The general recommendation is to play it safe and use a wall outlet.</p>
<p>It&#8217;s action time! Plug the micro <span class="caps">USB</span> end of the cable into the micro <span class="caps">USB</span> input and wait a few seconds for a raspberry to appear on the monitor. If you see one, then the Fedora Remix is booting. If not, you may need to play with the settings on your monitor.</p>
<p style="text-align:center;"><img src="/images/raspberry_pi/fedora_raspberry_spin.png" title="Fedora Remix boot screen" alt="Fedora Remix boot screen" /></p>
<h3>Customizing the installation on first boot</h3>
<p>This wouldn&#8217;t be a Fedora installation without the first boot wizard. The inclusion of first boot is one of the features that sets the Fedora Remix apart from other Raspberry Pi distributions. In addition to the simple first boot operations (review license, set language, timezone and date, root password), the Fedora Remix allows you to:</p>
<ul>
	<li>Resize the rootfs partition to use all remaining space on the MicroSD card, optionally allocating some of that space for a swap file (I used the defaults)</li>
</ul>
<p style="text-align:center;"><img src="/images/raspberry_pi/filesystem_settings.png" title="Fedora Remix filesystem settings boot screen" alt="Fedora Remix filesystem settings boot screen" /></p>
<ul>
	<li>Create a user account (add the user to administrators group)</li>
</ul>
<p style="text-align:center;"><img src="/images/raspberry_pi/create_user.png" title="Fedora Remix create user boot screen" alt="Fedora Remix create user boot screen" /></p>
<ul>
	<li>On the system settings screen you can modify the host name (default is raspi.local), choose graphical or text boot type mode, configure the <span class="caps">RAM</span> allocation between the <span class="caps">CPU</span> and <span class="caps">GPU</span> (out of available 256MB), and select video display configurations. I used the wizard selected options shown in the screenshot below.</li>
</ul>
<p style="text-align:center;"><img src="/images/raspberry_pi/system_settings.png" title="Fedora Remix create system settings boot screen" alt="Fedora Remix create system settings boot screen" /></p>
<p>Hit the finish button. The Pi will reboot twice on its own (once to resize the disk). Go get some coffee, this will take several minutes.</p>
<p><strong><span class="caps">NOTE</span>:</strong> If you get the <strong>Oh no! Something has gone wrong.</strong> screen, don&#8217;t panic. Type ctrl+alt+delete to initiate a third reboot.</p>
<p>Once the desktop comes up, don&#8217;t worry if it doesn&#8217;t fill the screen, we can fix that later. Now log into the <span class="caps">XFCE</span> desktop with the user account you created during the boot wizard.</p>
<p style="text-align:center;"><img src="/images/raspberry_pi/login_screen.png" title="Raspberry Pi XFCE desktop login" alt="Raspberry Pi XFCE desktop login" /></p>
<p>After you&#8217;ve logged in (go check your email, this may take a moment as well), you&#8217;ll see the following dialog window.</p>
<p style="text-align:center;"><img src="/images/raspberry_pi/start_panel_XFCE.png" title="Raspberry Pi XFCE start panel" alt="Raspberry Pi XFCE start panel" /></p>
<p>This is part of the <span class="caps">XFCE</span> desktop; I chose the default configuration.</p>
<h3>Updating Fedora Remix on the Raspberry Pi</h3>
<p>You use Fedora Remix on the Raspberry Pi just like any other Fedora installation. You might start by opening a terminal and updating the packages (internet connection required):</p>
<pre><code>sudo yum -y update</code></pre>
<p style="text-align:center;"><img src="/images/raspberry_pi/yum_update.png" title="Installing updates via yum" alt="Installing updates via yum" /></p>
<p>You can browse the hardware information by installing and running hardinfo:</p>
<pre><code>sudo yum -y install hardinfo</code></pre>
<p>After you type the above command, you will be asked for your password. Next, the system will resolve dependencies, download new packages, run transaction check and test, run transaction, and install packages.</p>
<p style="text-align:center;"><img src="/images/raspberry_pi/hardinfo_install.png" title="Installing hardinfo via yum" alt="Installing hardinfo via yum" /></p>
<p>The flashing lights on the Raspberry Pi board will indicate that the computer is hard at work.</p>
<p style="text-align:center;"><img src="/images/raspberry_pi/pi_lights.png" title="Raspberry Pi hard at work" alt="Raspberry Pi hard at work" /></p>
<p>When the hardinfo installation is complete and the command line prompt reappears, type:</p>
<pre><code>hardinfo</code></pre>
<p style="text-align:center;"><img src="/images/raspberry_pi/hardinfo.png" title="System information via hardinfo" alt="System information via hardinfo" /></p>
<p>Now you can easily explore the Raspberry Pi and Fedora Remix system specifications.</p>
<p>The desktop may seem a bit sluggish, but keep in mind what you are running it on. (It&#8217;s also because the Fedora Remix has not been compiled to take full advantage of the processor, which may change in Fedora 18).</p>
<p>One setting you won&#8217;t be able to configure from the control panel is the resolution. For that to change, you have to modify the Raspberry Pi configuration file. Let&#8217;s explore a few of those settings.</p>
<h3>Tweaking the display and memory on the Raspberry Pi</h3>
<p>The Raspberry Pi hardware is configured in the <a href="http://elinux.org/RPi_config.txt">config.txt file</a> in the /boot partition (<code>/boot/config.txt</code>). One of the key settings is the display resolution. Here&#8217;s the setting I used to stretch the desktop to full 1080 resolution (since my monitor supports it):</p>
<p><strong><span class="caps">NOTE</span>:</strong> You can&#8217;t simply click on the text document, open it in leafpad, edit it and hit save because you need root priviledges. To update this file you&#8217;ll need to access it through a terminal using <code>sudo</code>.</p>
<p>Open a terminal window and type:</p>
<pre><code>cd /boot&#x000A;sudo leafpad config.txt</code></pre>
<p>After you enter your password, leafpad will launch. Add the following setting to the file in leafpad:</p>
<pre><code>hdmi_mode=5</code></pre>
<p>I also recommend these settings to make the monitor display the image properly.</p>
<pre><code>hdmi_force_hotplug=1&#x000A;disable_overscan=1&#x000A;hdmi_group=1</code></pre>
<p style="text-align:center;"><img src="/images/raspberry_pi/hdmi_config.png" title="Configuring the HDMI settings in leafpad for the Raspberry Pi" alt="Configuring the HDMI settings in leafpad for the Raspberry Pi" /></p>
<p>Save the file and close it. Reboot the Raspberry Pi for the changes to take affect. You can type the following command in the terminal to reboot.</p>
<pre><code>sudo shutdown -r now</code></pre>
<p>Keep in mind that running the desktop at higher resolution does take more memory. You may want to opt for a lower resolution. Experiment with the values until you find what works for you. Consult the <a href="http://elinux.org/RPi_config.txt#Video_mode_options">full list of resolution modes</a> to find the <code>hdmi_mode</code> value for each resolution.</p>
<p>You can also make the desktop run faster by allocating more memory to the <span class="caps">CPU</span>. The <span class="caps">RAM</span> partitioning is controlled by the file start.elf in the /boot partition (<code>/boot/start.elf</code>). There are several alternative partitioning files in that directory with the pattern <code>arm*_start.elf</code>.</p>
<p>The number after &#8220;arm&#8221; is the amount of <span class="caps">RAM</span> dedicated to the <span class="caps">CPU</span>. To give 240MB of <span class="caps">RAM</span> to the <span class="caps">CPU</span> and the remaining 16MB to the <span class="caps">GPU</span>, use this copy command:</p>
<pre><code>cp arm240_start.elf start.elf</code></pre>
<p>If you want to play multimedia, you probably want to split the <span class="caps">RAM</span> down the middle at 128MB a piece (the most you can give to the <span class="caps">GPU</span>):</p>
<pre><code>cp arm128_start.elf start.elf</code></pre>
<p>Reboot for the change to take affect. Play with the values and see which one works best for you.</p>
<h3>Tinker!</h3>
<p>The Fedora Remix is one of <a href="http://elinux.org/RPi_Distributions#Comparison">many distributions</a> you can install on the Raspberry Pi, and there is plenty of room for it to improve. If your goal is to use the Raspberry Pi as a multimedia center, Fedora Remix may not be your best option (check out OpenELEC). You&#8217;d choose Fedora Remix for things the Fedora OS excels at, such as software development. Fortunately, you don&#8217;t have to limit yourself to a single distribution. Changing distributions is as easy as swapping MicroSD cards. We encourage you to try different distributions to get the most out of your Raspberry Pi.</p>
<h3>Resources</h3>
<ul>
	<li><a href="http://zenit.senecac.on.ca/wiki/index.php/Raspberry_Pi_Fedora_Remix">Raspberry Pi Fedora Remix home page</a></li>
	<li><a href="http://scotland.proximity.on.ca/raspberrypi/test-releases/raspberrypi-fedora-remix-17/latest/">Latest Raspberry Pi Fedora 17 Remix download</a></li>
	<li><a href="http://www.raspberrypi.org/archives/805">Original Raspberry Pi Fedora Remix announcement</a></li>
	<li><a href="https://fedoraproject.org/wiki/Architectures/ARM">Fedora <span class="caps">ARM</span> project</a></li>
	<li><a href="http://elinux.org/RPi_Distributions#Comparison">Raspberry Pi distribution list</a></li>
	<li><a href="http://raspberrypi.org/downloads">Raspberry Pi distribution downloads</a></li>
	<li><a href="http://www.element14.com/community/groups/raspberry-pi">Raspberry Pi development group</a></li>
	<li><a href="http://raspberrypi.org">Raspberry Pi Foundation home page</a></li>
	<li><a href="http://www.newark.com/?COM=element14_store_main">Raspberry Pi store, US</a></li>
	<li><a href="http://www.farnell.com/?ICID=choose_store_dropdown">Raspberry Pi store, non-US</a></li>
	<li><a href="http://www.mcmelectronics.com/content/en-US/raspberry-pi">Raspberry Pi partner store, US</a></li>
</ul>
  <div class="tags">
    <span class="title">
      tags:
    </span>
    <a href="/blog/tags/fedora">
      fedora,
    </a>
    <a href="/blog/tags/raspberry-pi">
      raspberry-pi
    </a>
  </div>
  <hr />
  <div class="row">
  <ul class="pager">
    <li class="previous span1">
    </li>
    <li class="next span1 offset7">
    </li>
  </ul>
</div>
  <div id="comments">
    
                <div id="disqus_thread"></div>
                <script type="text/javascript">
                var disqus_shortname = 'graphitefriction';
                var disqus_url = "http://graphitefriction.com/blog/2012/10/11/how-to-install-and-configure-fedora-17-remix-on-your-raspberry-pi/";
                var disqus_developer = null;
                var disqus_identifier = "";
                (function() {
                  var dsq = document.createElement("script"); dsq.type = "text/javascript"; dsq.async = true;
                  dsq.src = "http://graphitefriction.disqus.com/embed.js";
                  (document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(dsq);
                })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=graphitefriction">comments powered by Disqus.</a></noscript>
  </div>
</div>
</div>
        </div>
      </div>
    </div>
    <hr>
      <hr />
      <footer>
        <p>&copy; Sarah White 2012</p>
      </footer>
    </hr>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.0.2/bootstrap.min.js" type="text/javascript"></script>
    <script>
      (function() {
        $('.blank').attr('target', '_blank')
        var p1 = document.createElement('script'); p1.async = true; p1.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(p1, s);
      })();
    </script>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount','UA-33133481-1']);
    _gaq.push(['_trackPageview']);
    (function() {
     var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
  </body>
</html>
